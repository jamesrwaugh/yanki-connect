<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script type="module">
			import { YankiConnect } from '../dist/index'

			async function customFetch(url, options) {
				console.log('----------------- custom fetch! -----------------')
				// eslint-disable-next-line n/no-unsupported-features/node-builtins
				return fetch(url, options)
			}

			console.log('----------------- YankiConnect Client Instantiated -----------------')
			const client = new YankiConnect({
				customFetch,
			})
			console.log(client)

			console.log('----------------- Get Anki Notes -----------------')
			try {
				const notes = await client.note.findNotes({ query: '*' })
				console.log(notes)
			} catch (error) {
				console.log(error)
			}

			console.log('----------------- Get Anki Deck Names and IDs -----------------')
			try {
				const results = await client.deck.deckNamesAndIds()
				console.log(results)
			} catch (error) {
				console.log(error)
			}

			console.log('----------------- Done -----------------')
		</script>
	</head>
	<body></body>
</html>
